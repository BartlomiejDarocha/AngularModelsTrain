<div class="p-2 wrapper" [ngClass]="{'taskActive': task.active}" [ngStyle]="{'background': task.color}">
  <div>
    <div class="d-flex">
      <div class="checkbox">
        <mat-checkbox (change)="checkedHandler($event)"></mat-checkbox>
      </div>
      <div *ngIf="editName">
        <input matInput [(ngModel)]="newName">
        <button mat-button (click)="editTaskHandler()">Zapisz</button>
      </div>
      <div (click)="task.done ? null: editTaskHandler()" *ngIf="!editName" [innerText]="task.name"></div>
      <button mat-button (click)="activeHandler()" [innerText]="task.active? 'Odznacz': 'Zaznacz'"></button>
      <button mat-button appCollapse [child]="detail" [startHeight]="0" [duration]="250" [innerText]="detail.classList.contains('active') ? 'Pokaż mniej':'Pokaż więcej'"></button>
      <button mat-button (click)="removeTask()" [innerText]="'Usuń'"></button>
    </div>
    <div #detail>
      <div [innerText]="'data dodania: ' + (task.date | date:'dd-MM-yy')"></div>
      <div *ngIf="task.doneDate != null" [innerText]="'data zakończenia: ' + (task.doneDate | date:'dd-MM-yy')"></div>
      <div [innerText]="'Skala' + (task.rate + 1)"></div>
    </div>
  </div>
</div>
